(function(){"use strict";"modern";!function(){function addPDFOverlay(title,src){body.append($("<div>",{id:"overlay","class":"pdf-overlay"}).append($("<header>").append($("<h2>",{html:title}),$("<div>",{id:"overlay-close"})),$("<div>",{id:"pdf-embed"}).append($("<iframe>",{src:src,height:"100%",width:"100%"}))))}function hashChange(){var hash=window.location.hash.substring(1);if("/pdf/"==hash.substring(0,5)){var item=$('a[data-slug="'+hash+'"]');if(!item.html())return;body.addClass("overlay-active"),addPDFOverlay(item.data("title"),item.attr("href")),overlayOpen=!0}else overlayOpen&&($("#overlay").remove(),body.removeClass("overlay-active"))}var body=$("body");if(!Modernizr.touch&&$("a[data-title]").html()){var overlayOpen=!1;$(document).on("click","a[data-title]",function(e){e.preventDefault();var item=$(this);location.hash=item.data("slug")}),$(document).on("click","#overlay-close",function(e){Modernizr.history?window.history.back():location.hash=""}),$(window).on("hashchange",hashChange),hashChange()}}()}).call(this);